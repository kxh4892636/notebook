---
id: 27ee118e-139c-4fa0-883b-d8d4be00df9d
---
# 指针

## 基础

**声明指针**

```c
int* intPtr;
```

## \*

**机制**

- 获得指针变量指向的内存地址的值;

```c
// *p 为 p 指向的内存地址的值
// 对 *p 赋值即修改对应内存地址的值
void increment(int* p) {
  *p = *p + 1;
}
```

## &

**机制**

- 取出变量所在的内存地址;

```c
int x = 1;
printf("x's address is %p\n", &x);
```

**& 和 \***

```c
// 互为逆运算
int i = 5;
if (i == *(&i)) // 正确
```

## 指针的初始化

```c
// 先声明指针, 再指向一个分配好的地址
int* p;
int i;

p = &i;
*p = 13;
```

## 指针的运算

**指针和整数的加减法**

- 表示指针的移动;

```c
short* j;
j = (short*)0x1234;
j = j + 1; // 0x1236
```

**指针和指针的减法**

- 表示两个指针的距离;

```c
short* j1;
short* j2;

j1 = (short*)0x1234;
j2 = (short*)0x1236;

ptrdiff_t dist = j2 - j1;
printf("%td\n", dist); // 1
```

**指针和指针的比较运算**

- 比较内存地址对应的十六进制的大小;
